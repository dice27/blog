---
title: 【Ruby】Rubyにインクリメント/デクリメント演算子が無い理由  
date: "2018-09-11"
---

![Zebra](./zebra.jpg)  

---

## Rubyにインクリメント/デクリメント演算子が無い理由

>| 3) 記号的な記法  
>|  
>| これは単なる私の趣味ですが, 単項インクリメントとかがたまに欲しく  
>| なります. i += 1 でいいわけですが. i++ と書いて怒られる (^^;  
> すんません．この件は以前から指摘されているのですが(演算子はC  
> に似ているのに++と--は対応する演算子が無い)，++の動作が本  質
> 的に「変数を操作する」ものであるため，変数がオブジェクトでな  
> いRubyでは導入できないでいます．++や--の「オブジェクト指向的  
> 意味」がRubyの他の部分と整合性を保ったまま定義できれば採用し  
> たいのですが…．  

引用：Subject: [ruby-list:5323] Re: Questions on specs and threads  
<http://blade.nagaokaut.ac.jp/cgi-bin/scat.rb/ruby/ruby-list/5323>

というのも、Rubyでは変数をオブジェクトとして扱ってない様で、  
変数はオブジェクトに対するポインタとして扱っているようです。

例えば数値の 10 であれば、  
その 10 の実体はメモリ上のどこかにあって、

```
foobar = 10
```

としたときの、foobarが持っているものは  
10 というメモリ上のどこかにある実体への参照を持っている状態となります。

ですので、ここでインクリメント演算子を使用してしまうと、  
ポインタの位置をインクリメントする操作となる為、

```
foobar++
```

としたとき「変数を操作する」という操作ではなく、  
「foobarが参照しているオブジェクトを別の数値オブジェクトに切り替える」  
という操作ということになってしまいます。

つまり、操作の意味がインクリメント/デクリメント演算子の本質とは違う操作となってしまうため、  
Rubyでは導入出来ていないとの事です。

### 解決策

インクリメントしたい場合、  
現状は、以下のどれかを使わないといけない様です。

* foobar += 1  
* succ  
　<http://ref.xaio.jp/ruby/classes/string/succ>  
* next  
　<http://ref.xaio.jp/ruby/classes/string/next>  

デクリメントしたい場合は以下を使います。

* foobar -= 1
